{% extends "COMAdminBundle::admin.html.twig" %}

{% block title %}
  Edition de l'article {{ post.id }}
{% endblock %}

{% block content_body %}
	{#
	<div id="a_content_body_left">
	#}
		<div style="background:#ddd; padding: 5px; margin:5px; border:1px solid #bbb">
			Edition de l'article {{ post.id }}
			- 
			<span class="dd" style="display:inline-block;">
					<span href="#" class="dd_src" style="cursor:pointer">
						info
					</span>
					<span class="dd_target" style="display:block; padding: 5px; text-align: left; margin-top: 4px; position: absolute; display: none; background: #eee; padding: 4px; border: 1px solid #aaa; border-radius: 4px;">
						<span>Auteur : {{ post.user.name }}</span><br />
						<span>Date d'ajout : {{ post.date | date('Y-m-d H:i:s') }}</span><br />
						<span>Nombre de vues : {{ post.viewNumber }}</span><br />
					</span>
				</span>
		</div>
		
		<div style="padding:5px">
			<div style="float:left; height: 122px;margin:5px">
			
			</div>
			<div style="margin-left: 136px;">
				<div class="bloc_editable">
					<div class="bloc_view">
						<table>
							<tr>
								<td>Default Title</td>
								<td>:</td>
								<td style="padding:5px"><span id="bg_view_defaulttitle">{{ post.defaultTitle }}</span></td>
							</tr>
							<tr>
								<td>Slug</td>
								<td>:</td>
								<td style="padding:5px"><span id="bg_view_slug">{{ post.slug }}</span></td>
							</tr>
						</table>
					</div>
					<div class="bloc_edit" style="display:none">
						<table>
							<tr>
								<td>Default Title</td>
								<td>:</td>
								<td style="padding:5px"><input type="text" id="bg_input_defaulttitle" class="default_input" value="{{ post.defaultTitle }}" /></td>
							</tr>
							<tr>
								<td>Slug</td>
								<td>:</td>
								<td style="padding:5px"><input type="text" id="bg_input_slug" class="default_input" value="{{ post.slug }}" /></td>
							</tr>
						</table>
					</div>
					<div class="separator"></div>
					<div class="bloc_action" style="margin:5px">
						<span class="btn_edit standar_button">Modifier</span> 
						<span class="btn_save standar_button" id="btn_save_bg_common" data-target="{{ path('com_admin_blog_post_edit_common', {'id': post.id}) }}" style="display:none">Enregistrer</span>
						<span class="btn_reset standar_button" style="display:none">Annuler</span> 
						<span class="btn_loading" style="display:none;padding:5px;border:1px solid transparent;margin: 0px 5px 0px 0px;"><img src="{{ asset('assets/image/load.gif') }}" />Chargement...</span> 
					</div>
				</div>
			</div>
			<div style="clear:both"></div>
		</div>
		
		{# twig extension #}
		{% set locales = getLocales() %}
		
		<div id="a_content_tab">
		
			<div class="a_content_tab_header">
				<div class="a_content_tab_header_content">
					{% for locale in locales %}
						<div class="a_content_tab_header_item{% if locale.locale == 'fr' %} selected{% endif %}" id="tab_{{ locale.locale }}">
							<div class="a_content_tab_header_item_text">
								{{ locale.label | trans }}
							</div>
						</div>
					{% endfor %}
				</div>
				<div class="a_content_tab_header_sep">
					<div class="a_content_tab_header_sep_slide">
					</div>
				</div>
			</div>
			<div class="a_content_tab_content">
				{% for locale in locales %}
					{# twig extension #}
					{% set postTranslate = getPostTranslate(post, locale) %}
					<div class="a_content_tab_content_item{% if locale.locale == 'fr' %} selected{% else %} not_selected{% endif %}" id="content_tab_{{ locale.locale }}" style="">
						<div class="bloc_editable">
							<div class="bloc_view">
								<div>
									<div style="margin: 5px 0;">
										title {{ locale.locale }}:
									</div>
									<div id="" class="bgt_view_title" style="padding:5px;background:#fff; border-radius:4px;border:1px solid #eee">
										{{ postTranslate.title }}
									</div>
								</div>
								
								<div style="">
									<div style="margin: 5px 0;">
										Description :
									</div>
									<div id="" class="bgt_view_description" style="padding:5px;background:#fff; border-radius:4px;border:1px solid #eee">
										{{ postTranslate.description }}
									</div>
								</div>
								
								<div style="">
									<div style="margin: 5px 0;">
										Content :
									</div>
									<div id="" class="bgt_view_content" style="padding:5px;background:#fff; border-radius:4px;border:1px solid #eee">
										{{ postTranslate.content | raw }}
									</div>
								</div>
							</div>
							<div class="bloc_edit" style="display:none">
								<div>
									<div style="margin: 5px 0;">
										Title {{ locale.locale }}:
									</div>
									<div>
										<input type="text" id="" class="bgt_input_title default_input" value="{{ postTranslate.title }}" />
									</div>
								</div>
								<div style="">
									<div style="margin: 5px 0;">
										Description :
									</div>
									<div>
										<textarea id="" class="bgt_input_description default_textarea">{{ postTranslate.description }}</textarea>
									</div>
								</div>
								<div style="">
									<div style="margin: 5px 0;">
										Content :
									</div>
									<div>
										<textarea id="" class="bgt_input_content default_textarea tinymce">{{ postTranslate.content | raw }}</textarea>
									</div>
								</div>
							</div>
							<div class="separator"></div>
							<div class="bloc_action" style="margin:5px">
								<span class="btn_edit standar_button">Modifier</span> 
								<span class="btn_save_bg_trans btn_save standar_button" id="" data-target="{{ path('com_admin_blog_post_edit_translate', {'id': post.id, 'locale':locale.locale}) }}" style="display:none">Enregistrer</span>
								<span class="btn_reset standar_button" style="display:none">Annuler</span> 
								<span class="btn_loading" style="display:none;padding:5px;border:1px solid transparent;margin: 0px 5px 0px 0px;"><img src="{{ asset('assets/image/load.gif') }}" />Chargement...</span> 
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
			
			<!--div class="a_content_tab_content">
				<div class="a_content_tab_content_item selected" id="content_tab_fr">
					<div>
						<div style="margin: 5px 0;">
							titre 
						</div>
						<div>
							<input type="text" class="default_input" value="{{ postFR.title }}" />
						</div>
							
					</div>
					<div style="">
						<div style="margin: 5px 0;">
							Contenu 
						</div>
						<div>
							<textarea class="default_textarea">{{ postFR.content | raw }}</textarea>
						</div>
					</div>
				</div>
				<div class="a_content_tab_content_item not_selected" id="content_tab_en">
					<div>
						titre : 
							{{ postEN.title }}
					</div>
					<div style="margin:5px; background:#ddd">
						{{ postEN.content | raw }}
					</div>
				</div>
				<div class="a_content_tab_content_item not_selected" id="content_tab_mg">
					<div>
						titre : 
							{{ postMG.title }}
					</div>
					<div style="margin:5px; background:#ddd">
						{{ postMG.content | raw }}
					</div>
				</div>
				<div class="a_content_tab_content_item not_selected" id="content_tab_it">
					<div>
						titre : 
							{{ postIT.title }}
					</div>
					<div style="margin:5px; background:#ddd">
						{{ postIT.content | raw }}
					</div>
				</div>
				<div class="a_content_tab_content_item not_selected" id="content_tab_es">
					<div>
						titre : 
							{{ postES.title }}
					</div>
					<div style="margin:5px; background:#ddd">
						{{ postES.content | raw }}
					</div>
				</div>
				<div class="a_content_tab_content_item not_selected" id="content_tab_de">
					<div>
						titre : 
							{{ postDE.title }}
					</div>
					<div style="margin:5px; background:#ddd">
						{{ postDE.content | raw }}
					</div>
				</div>
			</div-->
		</div>
	{#
	</div>
	
	<div id="a_content_body_right">
		<div style="background:#ddd; padding: 5px; margin:5px 5px 5px 0; border:1px solid #bbb">
			Liasons aux autres entit√©s
		</div>
		<div style="padding:5px; border-bottom: 1px solid #aaa">
			Ecoles 	
		</div>
		
		<div style="padding:5px">
			{% for postSchool in postSchools %}
			<div>
				{{ postSchool.school.shortName }}
			</div>
			{% endfor %}
		</div>
		
		<div style="padding:5px; border-bottom: 1px solid #aaa">
			annonces	
		</div>
		<div style="padding:5px; border-bottom: 1px solid #aaa">
			Evenements		
		</div>
	</div>
	#}
{% endblock %}

